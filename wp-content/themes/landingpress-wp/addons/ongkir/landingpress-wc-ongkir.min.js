jQuery(document).ready(function(a){var b=landingpress_wc_ongkir_ajax.api_type,c=landingpress_wc_ongkir_ajax.base_state,d=landingpress_wc_ongkir_ajax.placeholder_city,e=landingpress_wc_ongkir_ajax.placeholder_subdistrict,f=landingpress_wc_ongkir_ajax.user_billing_state,g=landingpress_wc_ongkir_ajax.user_billing_city_ongkir,h=landingpress_wc_ongkir_ajax.user_billing_subdistrict_ongkir,i=a("#billing_state"),j=a("#billing_city"),k=a("#billing_city_ongkir"),l=a("#billing_subdistrict_ongkir"),m=a("#billing_subdistrict_ongkir_field"),n=landingpress_wc_ongkir_ajax.user_shipping_state,o=landingpress_wc_ongkir_ajax.user_shipping_city_ongkir,p=landingpress_wc_ongkir_ajax.user_shipping_subdistrict_ongkir,q=a("#shipping_state"),r=a("#shipping_city"),s=a("#shipping_city_ongkir"),t=a("#shipping_subdistrict_ongkir"),u=a("#shipping_subdistrict_ongkir_field");a(document).on("change","#billing_state",function(){var h=a(this).find("option:selected").val(),i=k.find("option:selected").val();g?g!==i&&k.val(""):k.val(""),k.empty(),"pro"==b&&(i&&i==g&&h==f?m.show():(l.val(""),l.empty(),a("<option/>",{value:"",text:e}).appendTo(l),m.hide())),h||(h=c),h&&a.ajax({url:landingpress_wc_ongkir_ajax.ajax_url,type:"get",data:{action:"ongkir_get_cities",nonce:landingpress_wc_ongkir_ajax.nonce,province:h},success:function(c){c=jQuery.parseJSON(c),a("<option/>",{value:"",text:d}).appendTo(k),a.each(c,function(b,c){i&&i==b?(a("<option/>",{value:b,text:c,selected:"selected"}).appendTo(k),k.val(i)):a("<option/>",{value:b,text:c}).appendTo(k)});var e=k.find("option:selected").text();if(e==d)j.val("");else if("pro"==b)j.val(e);else{var f=k.find("option:selected").val();j.val(e+" ("+f+")")}k.trigger("change"),"pro"==b&&l.trigger("change")}})}),a(document).on("change","#billing_city_ongkir",function(){var c=k.find("option:selected").text();if(c==d)j.val("");else if("pro"==b)j.val(c);else{var f=k.find("option:selected").val();j.val(c+" ("+f+")")}if("pro"==b){var g=i.find("option:selected").val(),n=a(this).find("option:selected").val(),o=l.find("option:selected").val();h?h!==o&&l.val(""):l.val(""),n?(l.empty(),a.ajax({url:landingpress_wc_ongkir_ajax.ajax_url,type:"get",data:{action:"ongkir_get_subdistricts",nonce:landingpress_wc_ongkir_ajax.nonce,province:g,city_id:n},success:function(b){b=jQuery.parseJSON(b),a("<option/>",{value:"",text:e}).appendTo(l),a.each(b,function(b,c){o&&o==b?(a("<option/>",{value:b,text:c,selected:"selected"}).appendTo(l),l.val(o)):a("<option/>",{value:b,text:c}).appendTo(l)});var c=l.find("option:selected").text();if(c==e)j.val("");else{var d=k.find("option:selected").text(),f=l.find("option:selected").val();j.val(c+", "+d+" ("+f+")")}m.show()}})):(l.val(""),l.empty(),a("<option/>",{value:"",text:e}).appendTo(l),m.hide())}}),a(document).on("change","#billing_subdistrict_ongkir",function(){var a=l.find("option:selected").text();if(a==e)j.val("");else{var b=k.find("option:selected").text(),c=l.find("option:selected").val();j.val(a+", "+b+" ("+c+")")}}),a(document).on("change","#shipping_state",function(){var f=a(this).find("option:selected").val(),g=s.find("option:selected").val();o?o!==g&&s.val(""):s.val(""),s.empty(),"pro"==b&&(g&&g==o&&f==n?u.show():(t.val(""),t.empty(),a("<option/>",{value:"",text:e}).appendTo(t),u.hide())),f||(f=c),f&&a.ajax({url:landingpress_wc_ongkir_ajax.ajax_url,type:"get",data:{action:"ongkir_get_cities",nonce:landingpress_wc_ongkir_ajax.nonce,province:f},success:function(c){c=jQuery.parseJSON(c),a("<option/>",{value:"",text:d}).appendTo(s),a.each(c,function(b,c){g&&g==b?(a("<option/>",{value:b,text:c,selected:"selected"}).appendTo(s),s.val(g)):a("<option/>",{value:b,text:c}).appendTo(s)});var e=s.find("option:selected").text();if(e==d)r.val("");else if("pro"==b)r.val(e);else{var f=s.find("option:selected").val();r.val(e+" ("+f+")")}s.trigger("change"),"pro"==b&&t.trigger("change")}})}),a(document).on("change","#shipping_city_ongkir",function(){var c=s.find("option:selected").text();if(c==d)r.val("");else if("pro"==b)r.val(c);else{var f=s.find("option:selected").val();r.val(c+" ("+f+")")}if("pro"==b){var g=q.find("option:selected").val(),h=a(this).find("option:selected").val(),i=t.find("option:selected").val();p?p!==i&&t.val(""):t.val(""),h?(t.empty(),a.ajax({url:landingpress_wc_ongkir_ajax.ajax_url,type:"get",data:{action:"ongkir_get_subdistricts",nonce:landingpress_wc_ongkir_ajax.nonce,province:g,city_id:h},success:function(b){b=jQuery.parseJSON(b),a("<option/>",{value:"",text:e}).appendTo(t),a.each(b,function(b,c){i&&i==b?(a("<option/>",{value:b,text:c,selected:"selected"}).appendTo(t),t.val(i)):a("<option/>",{value:b,text:c}).appendTo(t)});var c=t.find("option:selected").text();if(c==e)r.val("");else{var d=s.find("option:selected").text(),f=t.find("option:selected").val();r.val(c+", "+d+" ("+f+")")}u.show()}})):(t.val(""),t.empty(),a("<option/>",{value:"",text:e}).appendTo(t),u.hide())}}),a(document).on("change","#shipping_subdistrict_ongkir",function(){var a=t.find("option:selected").text();if(a==e)r.val("");else{var b=s.find("option:selected").text(),c=t.find("option:selected").val();r.val(a+", "+b+" ("+c+")")}})});